<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>阿里巴巴GMV数据 - 第3章数据可视化</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .header p {
            color: #666;
            font-size: 1.1em;
        }
        .chart-container {
            height: 500px;
            margin-bottom: 30px;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        .btn {
            background: linear-gradient(45deg, #f093fb, #f5576c);
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .nav {
            text-align: center;
            margin-top: 30px;
        }
        .nav a {
            color: #f093fb;
            text-decoration: none;
            font-weight: bold;
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .data-table th, .data-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        .data-table th {
            background-color: #f2f2f2;
        }
        .annotation {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>阿里巴巴GMV数据分析</h1>
            <p>展示2013-2019财年阿里巴巴淘宝和天猫平台的GMV数据</p>
        </div>

        <div class="controls">
            <button class="btn" onclick="showBarChart()">柱状图</button>
            <button class="btn" onclick="showLineChart()">折线图</button>
            <button class="btn" onclick="showGrowthChart()">增长分析</button>
            <button class="btn" onclick="showComparisonChart()">对比分析</button>
        </div>

        <div class="annotation">
            <h3>数据注释</h3>
            <p>GMV (Gross Merchandise Volume) - 商品交易总额</p>
            <p>数据来源：阿里巴巴集团财报</p>
        </div>

        <div class="chart-container">
            <canvas id="gmvChart"></canvas>
        </div>

        <!-- 数据表格 -->
        <table class="data-table">
            <thead>
                <tr>
                    <th>财年</th>
                    <th>淘宝GMV(亿元)</th>
                    <th>天猫GMV(亿元)</th>
                    <th>总GMV(亿元)</th>
                    <th>同比增长率</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>2013</td><td>10700</td><td>4400</td><td>15100</td><td>-</td></tr>
                <tr><td>2014</td><td>15700</td><td>5050</td><td>20750</td><td>37.4%</td></tr>
                <tr><td>2015</td><td>19700</td><td>9630</td><td>29330</td><td>41.3%</td></tr>
                <tr><td>2016</td><td>24200</td><td>15650</td><td>39850</td><td>35.9%</td></tr>
                <tr><td>2017</td><td>26800</td><td>21000</td><td>47800</td><td>20.0%</td></tr>
                <tr><td>2018</td><td>26800</td><td>31000</td><td>57800</td><td>20.9%</td></tr>
                <tr><td>2019</td><td>26800</td><td>34500</td><td>61300</td><td>6.1%</td></tr>
            </tbody>
        </table>

        <div class="nav">
            <a href="index.html">返回首页</a>
        </div>
    </div>

    <script>
        let gmvChart;
        const gmvData = {
            years: ['2013', '2014', '2015', '2016', '2017', '2018', '2019'],
            taobao: [10700, 15700, 19700, 24200, 26800, 26800, 26800],
            tianmao: [4400, 5050, 9630, 15650, 21000, 31000, 34500],
            total: [15100, 20750, 29330, 39850, 47800, 57800, 61300],
            growth: [null, 37.4, 41.3, 35.9, 20.0, 20.9, 6.1]
        };

        // 基础图表选项
        function getBasicOptions() {
            return {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        font: { size: 18 }
                    },
                    legend: {
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'GMV(亿元)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: '财年'
                        }
                    }
                }
            };
        }

        // 显示柱状图
        function showBarChart() {
            if (gmvChart) gmvChart.destroy();
            
            const ctx = document.getElementById('gmvChart').getContext('2d');
            gmvChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: gmvData.years,
                    datasets: [{
                        label: '淘宝GMV',
                        data: gmvData.taobao,
                        backgroundColor: 'rgba(255, 99, 132, 0.8)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 2
                    }, {
                        label: '天猫GMV',
                        data: gmvData.tianmao,
                        backgroundColor: 'rgba(54, 162, 235, 0.8)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 2
                    }, {
                        label: '总GMV',
                        data: gmvData.total,
                        backgroundColor: 'rgba(75, 192, 192, 0.8)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    ...getBasicOptions(),
                    plugins: {
                        title: {
                            display: true,
                            text: '阿里巴巴淘宝和天猫平台GMV数据',
                            font: { size: 18 }
                        }
                    }
                }
            });
        }

        // 显示折线图
        function showLineChart() {
            if (gmvChart) gmvChart.destroy();
            
            const ctx = document.getElementById('gmvChart').getContext('2d');
            gmvChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: gmvData.years,
                    datasets: [{
                        label: '淘宝GMV',
                        data: gmvData.taobao,
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderWidth: 3,
                        tension: 0.1
                    }, {
                        label: '天猫GMV',
                        data: gmvData.tianmao,
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderWidth: 3,
                        tension: 0.1
                    }, {
                        label: '总GMV',
                        data: gmvData.total,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderWidth: 3,
                        tension: 0.1
                    }]
                },
                options: {
                    ...getBasicOptions(),
                    plugins: {
                        title: {
                            display: true,
                            text: '阿里巴巴GMV增长趋势',
                            font: { size: 18 }
                        }
                    }
                }
            });
        }

        // 显示增长分析
        function showGrowthChart() {
            if (gmvChart) gmvChart.destroy();
            
            const ctx = document.getElementById('gmvChart').getContext('2d');
            gmvChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: gmvData.years.slice(1), // 从2014年开始
                    datasets: [{
                        label: '同比增长率',
                        data: gmvData.growth.slice(1),
                        borderColor: 'rgba(153, 102, 255, 1)',
                        backgroundColor: 'rgba(153, 102, 255, 0.2)',
                        borderWidth: 3,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '阿里巴巴GMV同比增长率分析',
                            font: { size: 18 }
                        },
                        legend: {
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: '增长率(%)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '财年'
                            }
                        }
                    }
                }
            });
        }

        // 显示对比分析
        function showComparisonChart() {
            if (gmvChart) gmvChart.destroy();
            
            const ctx = document.getElementById('gmvChart').getContext('2d');
            gmvChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: gmvData.years,
                    datasets: [{
                        label: '淘宝占比',
                        data: gmvData.years.map((year, index) => 
                            (gmvData.taobao[index] / gmvData.total[index] * 100).toFixed(1)
                        ),
                        backgroundColor: 'rgba(255, 99, 132, 0.8)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 2
                    }, {
                        label: '天猫占比',
                        data: gmvData.years.map((year, index) => 
                            (gmvData.tianmao[index] / gmvData.total[index] * 100).toFixed(1)
                        ),
                        backgroundColor: 'rgba(54, 162, 235, 0.8)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '淘宝与天猫GMV占比对比',
                            font: { size: 18 }
                        },
                        legend: {
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: '占比(%)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '财年'
                            }
                        }
                    }
                }
            });
        }

        // 默认显示柱状图
        showBarChart();
    </script>
</body>
</html>